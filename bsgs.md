## Baby-step giant-step

[モノイド作用に関する離散対数問題](https://maspypy.com/%e3%83%a2%e3%83%8e%e3%82%a4%e3%83%89%e4%bd%9c%e7%94%a8%e3%81%ab%e9%96%a2%e3%81%99%e3%82%8b%e9%9b%a2%e6%95%a3%e5%af%be%e6%95%b0%e5%95%8f%e9%a1%8c)を実装した。いくつかすぐに分からなかった点があったのでメモ。

「 $x^ns = t$ となる $n$ は存在するものの、上の方法で解が得られないのは、例えば次の図のような状況です。」について。 $x^{(k-1)m}s$ と  $x^{km}s$ が次のような位置にある時に問題になる。

```
┌─┐      ┌────────────┐
│s├─────►│x^(k-1)m * s│
└─┘      └──────┬─────┘
                │
┌─┐             │      ┌────────┐
│t├────────────►└─────►│x^km * s├──────┐
└─┘                    └────────┘      │
 ▲                                     │
 └─────────────────────────────────────┘
```

「このような $l$ をとったとき、 $x^{km}s$ がサイクル上にあることから、 $(l-1)m\leq n&lt; lm$ かつ $x^ns = t$ となるような $n$ がこの範囲に必ず存在します。」について。 $x^{km}s$ から $x^{lm}s$ へ移動する際に必ずtを跨ぐ事が言えるので、後者の近くにtはある。

```
┌─┐
│s├─────────────┐
└─┘             │
                │
┌─┐             │      ┌────────┐
│t├─────────────┴─────►│x^lm * s├──────┐
└─┘                    └────────┘      │
 ▲   ┌────────────┐                    │
 └───┤x^(l-1)m * s│◄───────────────────┘
     └────────────┘
```
